server {
    listen 80;

    if ( $host = "ebelleon.de" ) {
        return 301 $scheme://www.ebelleon.de$request_uri;
    }

    # remove extension from url
    rewrite ^(/.*)\.html(\?.*)?$ $1$2 permanent;
    # add trailing slash
    rewrite ^([^.]*[^/])$ $1/ permanent;

    root /var/www/html;
    index index.html;

    # Force all paths to load either itself (js files) or go through index.html.
    location / {
        try_files $uri/index.html $uri.html $uri/ $uri =404;

        # error_page 404 /404.htm;
        # error_page 500 502 503 504 /500.htm;
    }
}

window.onscroll=function(){stickyNav()};const $href=$('a[href^="#"]'),hamburger=document.querySelector('.hamburger'),navbar=document.querySelector('.navbar'),sticky=navbar.offsetTop+150;function stickyNav(){window.scrollY>=sticky?navbar.classList.add('sticky'):navbar.classList.remove('sticky')}$(document).ready(function(){$(document).on('scroll',onScroll),$href.on('click',function(a){a.preventDefault(),$(document).off('scroll'),$('a').each(function(){$(this).removeClass('active')}),$(this).addClass('active');let b=this.hash;$target=$(b),$('html, body').stop().animate({scrollTop:$target.offset().top+2},700,function(){$(document).on('scroll',onScroll)})})});function onScroll(){var a=$(document).scrollTop();$('.navbar a').each(function(){var b=$(this),c=$(b.attr('href'));c.position().top<=a&&c.position().top+c.height()>a&&($('.navbar ul a').removeClass('active'),b.addClass('active'))})}hamburger.addEventListener('click',function(){hamburger.classList.toggle('is-active')}),$href.on('click',function(){hamburger.classList.toggle('is-active')}),$('.currentYear').html(new Date().getFullYear());function checkForCloseMatch(a,b){if(3>b.length)return'';if(a.includes(b))return'';for(let c=1;c<b.length;c++){const d=b.substring(0,c),f=b.substring(c),g=new RegExp(`${d}.${f.substring(1)}`);if(g.test(a))return a.replace(g,b);const h=new RegExp(`${d}.${f}`);if(h.test(a))return a.replace(h,b);if('mail'!==f){const k=new RegExp(`${d}{0}${f}`);if(k.test(a))return a.replace(k,b)}const j=[b.substring(0,c-1),b.charAt(c),b.charAt(c-1),b.substring(c+1)].join('');if(a.includes(j))return a.replace(j,b)}return''}function checkForDomainTypo(a){const b=['googlemail','hotmail','outlook','yahoo','icloud','mail'],[c,d]=a.split('@');for(let f=0;f<b.length;f++){const g=b[f],h=checkForCloseMatch(d,g);if(h)return`${c}@${h}`}return''}function checkForNameTypo(a,b){const[c,d]=a.split('@'),f=checkForCloseMatch(c,b);return f?`${f}@${d}`:''}function checkForCommonTypos(a){const b=[{pattern:/,(com|de|org|net)$/,fix:d=>d.replace(/,(com|de|org|net)$/,'.$1')},{pattern:/,co\.\w{2}$/,fix:d=>d.replace(/,(co\.\w{2}$)/,'.$1')},{pattern:/@\w*$/,fix:d=>d+'.com'}];let c=b.find(d=>d.pattern.test(a));return c?c.fix(a):''}function checkForTypo(a){const b=a.email.trim().toLowerCase();return checkForCommonTypos(b)||checkForDomainTypo(b)||checkForNameTypo(b,''===a.name||a.name.split(/[, ]+/g)[0].trim().toLowerCase())||checkForNameTypo(b,''===a.name||a.name.split(/[, ]+/g)[1].trim().toLowerCase())}const getEl=a=>document.querySelector(a),nameEl=getEl('[name="name"]'),emailEl=getEl('[name="email"]'),messageEl=getEl('.valMessage');let suggestedEmail='';function gatherDataAndCheck(){suggestedEmail=checkForTypo({name:nameEl.value,email:emailEl.value}),suggestedEmail?(messageEl.textContent=`Meinten Sie ${suggestedEmail}?`,messageEl.tabindex=1,messageEl.focus()):messageEl.textContent=''}emailEl.addEventListener('blur',gatherDataAndCheck),messageEl.addEventListener('click',()=>{suggestedEmail&&(emailEl.value=suggestedEmail),emailEl.focus(),gatherDataAndCheck()});